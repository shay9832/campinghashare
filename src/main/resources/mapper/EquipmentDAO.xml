<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team.mvc.Interface.IEquipmentDAO">
    <resultMap id="equipmentResultMap" type="com.team.mvc.DTO.EquipmentDTO">
        <result column="MAJOR_CATEGORY_NAME" property="majorCategory"/>
        <result column="MIDDLE_CATEGORY_NAME" property="middleCategory"/>
        <result column="BRAND_NAME" property="brand"/>
    </resultMap>
    <!-- 유저 코드로 장비 정보 조회 -->
    <select id="listByUserCode" resultType="com.team.mvc.DTO.EquipmentDTO" resultMap="equipmentResultMap">
        SELECT EQUIP_ID, EQUIP_CODE, USER_CODE, CATEGORY_ID
             , MAJOR_CATEGORY_NAME, MIDDLE_CATEGORY_NAME
             , EQUIP_NAME_ID, EQUIP_NAME, BRAND_NAME, ORIGINAL_PRICE, CREATED_DATE
        FROM VW_EQUIPMENT
        WHERE USER_CODE = #{user_code}
    </select>

    <!-- 장비명id로 장비명 조회 -->
    <select id="getEquipNameById">
        SELECT EQUIP_NAME
        FROM EQUIP_NAME
        WHERE EQUIP_NAME_ID = #{equip_name_id}
    </select>


</mapper>