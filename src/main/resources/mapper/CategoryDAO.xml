<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team.mvc.Interface.ICategoryDAO">
    <!-- 대분류 목록 조회 -->
    <select id="getMajorCategory" resultType="com.team.mvc.DTO.CategoryDTO">
        SELECT CATEGORY_ID
             , CATEGORY_NAME
        FROM CATEGORY
        WHERE PARENT_CATEGORY_ID IS NULL
        ORDER BY CATEGORY_ID
    </select>

    <!-- 중분류 목록 조회 -->
    <select id="getMiddleCategory" resultType="com.team.mvc.DTO.CategoryDTO">
        SELECT CATEGORY_ID
             , PARENT_CATEGORY_ID
             , CATEGORY_NAME
        FROM CATEGORY
        WHERE PARENT_CATEGORY_ID = ${parentCategoryId}
    </select>

    <!-- 카테고리 ID로 카테고리 정보 조회 -->
    <select id="getCategoryById" resultType="com.team.mvc.DTO.CategoryDTO">
        SELECT CATEGORY_ID
             , PARENT_CATEGORY_ID
             , CATEGORY_NAME
        FROM CATEGORY
        WHERE CATEGORY_ID = #{categoryId}
    </select>

    <!-- 카테고리 이름으로 카테고리 정보 조회 -->
    <select id="getCategoryByName" resultType="com.team.mvc.DTO.CategoryDTO">
        SELECT CATEGORY_ID
             , PARENT_CATEGORY_ID
             , CATEGORY_NAME
        FROM CATEGORY
        WHERE CATEGORY_NAME = #{categoryName}
    </select>
</mapper>