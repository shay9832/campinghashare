<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team.mvc.Interface.IAdminCreateCouponDAO">
    <!-- 쿠폰 생성 - DTO 객체를 사용 -->
    <insert id="setCoupon" parameterType="com.team.mvc.DTO.AdminCreateCouponDTO">
        INSERT INTO ISSUED_COUPON (
        ISSUED_COUPON_ID,
        ADMIN_ID,
        COUPON_TYPE_ID,
        COUPON_NAME,
        COUPON_DISCOUNT,
        COUPON_MONTH,
        ISSUED_DATE
        ) VALUES (
        ISSUED_COUPON_SEQ.NEXTVAL,  <!-- 시퀀스 사용 (시퀀스가 있다고 가정) -->
        #{adminId},
        #{couponTypeId},
        #{couponName},
        #{couponDiscount},
        #{couponMonth},
        SYSDATE                     <!-- 현재 날짜 사용 -->
        )
    </insert>

    <!-- 쿠폰 타입 목록 조회 -->
    <select id="getList" resultType="com.team.mvc.DTO.AdminCreateCouponDTO">
        SELECT COUPON_TYPE_ID as couponTypeId, COUPON_TYPE_NAME as couponTypeName
        FROM COUPON_TYPE
        ORDER BY COUPON_TYPE_NAME
    </select>
</mapper>